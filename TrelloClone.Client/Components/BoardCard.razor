@using TrelloClone.Shared.DTOs
@inject NavigationManager Navigation

<div class="board-card" @onclick="NavigateToBoard">
    <div class="card-content">
        <div class="card-header">
            <h3 class="card-title">@Board.Name</h3>
            
            @if (CanEdit)
            {
                <div class="card-actions">
                    <button class="action-btn edit-btn" @onclick="HandleUpdate" @onclick:stopPropagation="true">
                        <i class="bi bi-pencil"></i>
                    </button>
                    <button class="action-btn delete-btn" @onclick="HandleDelete" @onclick:stopPropagation="true">
                        <i class="bi bi-trash3"></i>
                    </button>
                </div>
            }
        </div>
        
        <div class="card-footer">
            <div class="footer-content">
                <i class="bi bi-grid-3x3-gap"></i>
                <span>Click to open</span>
            </div>
        </div>
    </div>
</div>

@code {
    [Parameter] public BoardDto Board { get; set; } = null!;
    [Parameter] public bool CanEdit { get; set; }
    [Parameter] public EventCallback<BoardDto> OnUpdate { get; set; }
    [Parameter] public EventCallback<BoardDto> OnDelete { get; set; }

    private void NavigateToBoard()
    {
        Navigation.NavigateTo($"/board/{Board.Id}");
    }

    private async Task HandleUpdate()
    {
        await OnUpdate.InvokeAsync(Board);
    }

    private async Task HandleDelete()
    {
        await OnDelete.InvokeAsync(Board);
    }
}